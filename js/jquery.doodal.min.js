/*! jquery.doodal.js v1.0.0 09.09.2013 */!function(a,b,c){function d(a,b,c){"open"===b&&a.css("z-index",1),a.on(f,function d(){a.off(f,d),"close"===b&&a.css("z-index",-1),c(a)})}var e=function(b,c){this.elem=b,this.$elem=a(b),this.options=c},f="transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd";e.prototype={defaults:{type:"modal",closeclass:".doodal-close",trueclass:".doodal-true",falseclass:".doodal-false",showclass:"showing"},init:function(){this.config=a.extend({},this.defaults,this.options),this.eventType(),this.addEvents(this);var b=this;return this.$elem.on("open",function(){b.openDoodal(b)}),this.$elem.on("close",function(){b.closeDoodal()}),a(c).on("keydown",function(a){27===a.keyCode&&b.$elem.trigger("close")}),this},eventType:function(){this.evt="ontouchstart"in b?"touchstart":"click"},addEvents:function(b){function c(){return b.$elem.trigger("on"+a(this).data("bool")),!1}this.$elem.find(this.config.closeclass).on(this.evt,function(a){return a.preventDefault(),b.$elem.trigger("close"),!1}),this.$elem.find(this.config.trueclass).on(this.evt,c),this.$elem.find(this.config.falseclass).on(this.evt,c)},openDoodal:function(){this.$elem.addClass(this.config.showclass),d(this.$elem,"open",function(a){a.trigger("afteropen")})},closeDoodal:function(){this.$elem.removeClass(this.config.showclass),d(this.$elem,"close",function(a){a.trigger("afterclose"),a.off(f,d)})}},e.defaults=e.prototype.defaults,a.fn.doodal=function(a){return this.each(function(){new e(this,a).init()})}}(jQuery,window,document);